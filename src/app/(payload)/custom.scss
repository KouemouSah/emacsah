/* Portfolio CMS - Dark Elegant Admin Styles */

@layer payload {
  /* ============================================
     CSS Variables
     ============================================ */
  :root {
    --bg-dark: #0d1117;
    --bg-card: #161b22;
    --bg-input: #0d1117;
    --accent: #14b8a6;
    --accent-hover: #0d9488;
    --accent-light: rgba(20, 184, 166, 0.1);
    --text-primary: #f0f6fc;
    --text-secondary: #8b949e;
    --text-muted: #6e7681;
    --border-color: #30363d;
    --border-focus: #14b8a6;
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --radius-xl: 16px;
    --transition: 150ms ease;
  }

  /* ============================================
     Auth Pages - Dark Elegant Design
     ============================================ */
  .template-minimal {
    min-height: 100vh;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-dark);
    padding: 24px;
  }

  /* Remove any pseudo-elements */
  .template-minimal::before,
  .template-minimal::after {
    display: none !important;
  }

  /* Hide default branding */
  .template-minimal__branding,
  .payload-logo,
  .graphic {
    display: none !important;
  }

  /* Main Card Container */
  .template-minimal__wrap {
    position: relative !important;
    width: 100% !important;
    max-width: 440px !important;
    margin: 0 auto !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    padding: 0 !important;
  }

  /* Shield Icon */
  .template-minimal__wrap::before {
    content: '' !important;
    display: block !important;
    width: 56px !important;
    height: 56px !important;
    margin: 0 auto 32px !important;
    background-color: var(--accent) !important;
    border-radius: var(--radius-lg) !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230d1117' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z'/%3E%3Cpath d='M9 12l2 2 4-4'/%3E%3C/svg%3E") !important;
    background-size: 28px !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
  }

  /* Hide default ::after */
  .template-minimal__wrap::after {
    display: none !important;
  }

  /* Typography */
  .template-minimal h1 {
    font-size: 1.75rem !important;
    font-weight: 700 !important;
    color: var(--text-primary) !important;
    margin: 0 0 8px 0 !important;
    text-align: center !important;
    letter-spacing: -0.02em !important;
  }

  /* Style "Admin" in title with accent color */
  .template-minimal h1::after {
    content: '' !important;
  }

  .template-minimal p {
    font-size: 0.9375rem !important;
    color: var(--text-secondary) !important;
    margin: 0 0 40px 0 !important;
    text-align: center !important;
  }

  /* Form Container */
  .template-minimal form {
    width: 100% !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 0 !important;
  }

  /* Field Groups - 2 column layout for name/email and passwords */
  .template-minimal .field-type {
    margin: 0 0 20px 0 !important;
    padding: 0 !important;
  }

  /* Labels */
  .template-minimal label.field-label:not(.unstyled) {
    display: block !important;
    font-size: 0.8125rem !important;
    font-weight: 500 !important;
    color: var(--text-secondary) !important;
    margin-bottom: 8px !important;
    padding: 0 !important;
  }

  .template-minimal .field-label .required {
    color: var(--accent) !important;
    margin-left: 2px !important;
  }

  /* Input Container with Icon */
  .template-minimal .field-type.text,
  .template-minimal .field-type.email,
  .template-minimal .field-type.password {
    position: relative !important;
  }

  /* Input Fields */
  .template-minimal input[type="text"],
  .template-minimal input[type="email"],
  .template-minimal input[type="password"] {
    width: 100% !important;
    height: 48px !important;
    padding: 0 16px 0 44px !important;
    font-size: 0.9375rem !important;
    font-family: inherit !important;
    background: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: var(--radius-md) !important;
    color: var(--text-primary) !important;
    transition: border-color var(--transition), box-shadow var(--transition) !important;

    &::placeholder {
      color: var(--text-muted) !important;
    }

    &:hover {
      border-color: #484f58 !important;
    }

    &:focus {
      outline: none !important;
      border-color: var(--border-focus) !important;
      box-shadow: 0 0 0 3px var(--accent-light) !important;
    }
  }

  /* Input Icons */
  .template-minimal .field-type.text .field-type__wrap::before,
  .template-minimal .field-type.email .field-type__wrap::before {
    content: '' !important;
    position: absolute !important;
    left: 14px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 18px !important;
    height: 18px !important;
    background-color: var(--text-muted) !important;
    mask-size: contain !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: contain !important;
    -webkit-mask-repeat: no-repeat !important;
    pointer-events: none !important;
    z-index: 1 !important;
  }

  /* Name icon (user) */
  .template-minimal .field-type.text .field-type__wrap::before {
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E") !important;
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2'/%3E%3Ccircle cx='12' cy='7' r='4'/%3E%3C/svg%3E") !important;
  }

  /* Email icon */
  .template-minimal .field-type.email .field-type__wrap::before {
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z'/%3E%3Cpolyline points='22,6 12,13 2,6'/%3E%3C/svg%3E") !important;
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z'/%3E%3Cpolyline points='22,6 12,13 2,6'/%3E%3C/svg%3E") !important;
  }

  /* Password fields - lock icon */
  .template-minimal .field-type.password .field-type__wrap::before {
    content: '' !important;
    position: absolute !important;
    left: 14px !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    width: 18px !important;
    height: 18px !important;
    background-color: var(--text-muted) !important;
    mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='11' width='18' height='11' rx='2' ry='2'/%3E%3Cpath d='M7 11V7a5 5 0 0 1 10 0v4'/%3E%3C/svg%3E") !important;
    -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='11' width='18' height='11' rx='2' ry='2'/%3E%3Cpath d='M7 11V7a5 5 0 0 1 10 0v4'/%3E%3C/svg%3E") !important;
    mask-size: contain !important;
    mask-repeat: no-repeat !important;
    -webkit-mask-size: contain !important;
    -webkit-mask-repeat: no-repeat !important;
    pointer-events: none !important;
    z-index: 1 !important;
  }

  /* Password hint */
  .template-minimal .field-description {
    font-size: 0.75rem !important;
    color: var(--text-muted) !important;
    margin-top: 6px !important;
  }

  /* Hide role field via CSS (backup) */
  .template-minimal .field-type.select {
    display: none !important;
  }

  /* Select Styling (for admin panel) */
  .template-minimal .rs__control,
  .template-minimal .select__control {
    min-height: 48px !important;
    background: var(--bg-input) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: var(--radius-md) !important;

    &:hover {
      border-color: #484f58 !important;
    }

    &--is-focused {
      border-color: var(--border-focus) !important;
      box-shadow: 0 0 0 3px var(--accent-light) !important;
    }
  }

  .rs__single-value,
  .rs__placeholder {
    color: var(--text-primary) !important;
  }

  .rs__menu {
    background: var(--bg-card) !important;
    border: 1px solid var(--border-color) !important;
    border-radius: var(--radius-md) !important;
  }

  .rs__option {
    color: var(--text-primary) !important;
    &--is-focused {
      background: var(--bg-input) !important;
    }
    &--is-selected {
      background: var(--accent) !important;
    }
  }

  /* Submit Button */
  .template-minimal .form-submit {
    margin-top: 12px !important;
    padding: 0 !important;
  }

  .template-minimal .btn--style-primary {
    width: 100% !important;
    height: 48px !important;
    padding: 0 24px !important;
    font-size: 0.9375rem !important;
    font-weight: 600 !important;
    font-family: inherit !important;
    border-radius: var(--radius-md) !important;
    background: var(--accent) !important;
    border: none !important;
    color: var(--bg-dark) !important;
    cursor: pointer !important;
    transition: all var(--transition) !important;

    &:hover {
      background: var(--accent-hover) !important;
    }

    &:focus {
      outline: none !important;
      box-shadow: 0 0 0 3px var(--accent-light) !important;
    }
  }

  /* Footer - SSL notice */
  .template-minimal form::after {
    content: 'Connexion sécurisée SSL' !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 6px !important;
    margin-top: 32px !important;
    font-size: 0.75rem !important;
    color: var(--text-muted) !important;
  }

  /* Links */
  .template-minimal a {
    color: var(--accent) !important;
    text-decoration: none !important;
    transition: color var(--transition) !important;

    &:hover {
      color: var(--accent-hover) !important;
      text-decoration: underline !important;
    }
  }

  /* Error Messages */
  .template-minimal .field-error,
  .template-minimal .error {
    color: #f85149 !important;
    font-size: 0.8125rem !important;
    margin-top: 6px !important;
  }

  /* ============================================
     Responsive
     ============================================ */
  @media (max-width: 480px) {
    .template-minimal__wrap {
      max-width: 100% !important;
      padding: 0 16px !important;
    }

    .template-minimal h1 {
      font-size: 1.5rem !important;
    }
  }

  /* ============================================
     Admin Dashboard Styles (keep existing)
     ============================================ */
  .template-default {
    background: #f8fafc !important;
  }

  /* Sidebar Navigation */
  .nav {
    background: #ffffff !important;
    border-right: 1px solid #e2e8f0 !important;
  }

  .nav-group__toggle {
    font-size: 0.75rem !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
    color: #94a3b8 !important;
    padding: 8px 16px !important;
  }

  .nav__link {
    border-radius: 6px !important;
    margin: 2px 8px !important;
    padding: 10px 12px !important;
    font-size: 0.875rem !important;

    &:hover {
      background: #f1f5f9 !important;
    }

    &.active {
      background: rgba(99, 102, 241, 0.1) !important;
      color: #6366f1 !important;
    }
  }

  .app-header {
    background: #ffffff !important;
    border-bottom: 1px solid #e2e8f0 !important;
  }

  .card {
    border-radius: 12px !important;
    border: 1px solid #e2e8f0 !important;
    background: #ffffff !important;
  }

  /* General form inputs in admin */
  .template-default input[type="text"],
  .template-default input[type="email"],
  .template-default input[type="password"],
  .template-default input[type="number"],
  .template-default input[type="url"],
  .template-default textarea {
    border: 1px solid #e2e8f0 !important;
    border-radius: 8px !important;
    padding: 0 16px !important;
    height: 44px !important;

    &:focus {
      border-color: #6366f1 !important;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1) !important;
    }
  }

  .template-default textarea {
    height: auto !important;
    min-height: 100px !important;
    padding: 12px 16px !important;
  }

  .template-default .btn--style-primary {
    background: #6366f1 !important;
    border-radius: 8px !important;

    &:hover {
      background: #4f46e5 !important;
    }
  }

  .template-default .rs__control {
    border: 1px solid #e2e8f0 !important;
    border-radius: 8px !important;
    min-height: 44px !important;

    &--is-focused {
      border-color: #6366f1 !important;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1) !important;
    }
  }
}
